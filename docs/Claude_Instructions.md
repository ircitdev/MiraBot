# Claude Project Instructions - MIRA Bot

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Claude Project "MIRA"
**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 28.12.2025

---

## üìã –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª

1. –û—Ç–∫—Ä–æ–π Claude.ai –∏ –ø–µ—Ä–µ–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª Projects
2. –°–æ–∑–¥–∞–π –∏–ª–∏ –æ—Ç–∫—Ä–æ–π –ø—Ä–æ–µ–∫—Ç **MIRA**
3. –ù–∞–∂–º–∏ –Ω–∞ –ø–æ–ª–µ **Instructions** (Add instructions to tailor Claude's responses)
4. –°–∫–æ–ø–∏—Ä—É–π –≤–µ—Å—å —Ç–µ–∫—Å—Ç –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–ò–ù–°–¢–†–£–ö–¶–ò–ò –î–õ–Ø CLAUDE" –Ω–∏–∂–µ
5. –í—Å—Ç–∞–≤—å –≤ –ø–æ–ª–µ Instructions –∏ —Å–æ—Ö—Ä–∞–Ω–∏

---

## –ò–ù–°–¢–†–£–ö–¶–ò–ò –î–õ–Ø CLAUDE

```markdown
# –ü—Ä–æ–µ–∫—Ç: Mira Bot - –ë–æ—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
Telegram-–±–æ—Ç –¥–ª—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∂–µ–Ω—â–∏–Ω. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Claude API –¥–ª—è —ç–º–ø–∞—Ç–∏—á–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è, –∏–º–µ–µ—Ç –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Backend**: Python 3.10+, FastAPI, python-telegram-bot
- **AI**: Claude API (Anthropic), OpenAI Whisper (–≥–æ–ª–æ—Å–æ–≤—ã–µ)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL + SQLAlchemy (async)
- **Frontend**: Vanilla JS, HTML/CSS (Telegram WebApp)
- **–î–µ–ø–ª–æ–π**: Linux VPS (31.44.7.144), systemd, Nginx

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
mira_bot/
‚îú‚îÄ‚îÄ ai/                    # AI –ª–æ–≥–∏–∫–∞ (Claude, –ø—Ä–æ–º–ø—Ç—ã, –∫—Ä–∏–∑–∏—Å-–¥–µ—Ç–µ–∫—Ç–æ—Ä)
‚îú‚îÄ‚îÄ bot/                   # Telegram bot handlers
‚îú‚îÄ‚îÄ webapp/                # WebApp –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ database/              # –ú–æ–¥–µ–ª–∏ –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ SQLAlchemy
‚îú‚îÄ‚îÄ services/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Ä–µ—Ñ–µ—Ä–∞–ª—ã, –ø–æ–¥–ø–∏—Å–∫–∏)
‚îú‚îÄ‚îÄ config/                # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (settings.py)
‚îî‚îÄ‚îÄ docs/                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –ö–ª—é—á–µ–≤—ã–µ –º–æ–¥—É–ª–∏
1. **ai/claude_client.py** - –û–±—â–µ–Ω–∏–µ —Å Claude API
2. **ai/crisis_detector.py** - –î–µ—Ç–µ–∫—Ü–∏—è –∫—Ä–∏–∑–∏—Å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
3. **ai/mood_analyzer.py** - –ê–Ω–∞–ª–∏–∑ —ç–º–æ—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **bot/handlers/message.py** - –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π
5. **webapp/admin/** - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (Flask/Jinja2)

## –ü–µ—Ä—Å–æ–Ω–∞ –±–æ—Ç–∞ "–ú–∏—Ä–∞"
- –ñ–µ–Ω—â–∏–Ω–∞ 38 –ª–µ—Ç, –ø—Å–∏—Ö–æ–ª–æ–≥, –º–∞—Ç—å –¥–≤–æ–∏—Ö –¥–µ—Ç–µ–π (–ê–ª–∏—Å–∞ 15 –ª–µ—Ç, –¢–∏–º 11 –ª–µ—Ç)
- –ú—É–∂ –ê–Ω–¥—Ä–µ–π, —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–º
- –¢–æ–Ω: —Ç—ë–ø–ª—ã–π, —ç–º–ø–∞—Ç–∏—á–Ω—ã–π, –±–µ–∑ –Ω–æ—Ç–∞—Ü–∏–π, –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∞—è –ø–æ–¥—Ä—É–≥–∞
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–æ–≤–∞ "–≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è", "–±–æ—Ç", "–ò–ò"
- –û–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ –∏–º–µ–Ω–∏ –∏–∑ –ë–î (user.display_name)

## –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ö—Ä–∏–∑–∏—Å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª (P0) - —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –î–û –æ—Ç–≤–µ—Ç–∞ Claude
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π async/await, session —á–µ—Ä–µ–∑ context manager
3. **API Keys**: –í—Å–µ –∫–ª—é—á–∏ –≤ .env, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å
4. **Git**: –í—Å–µ–≥–¥–∞ –¥–µ—Ç–∞–ª—å–Ω—ã–µ commit messages —Å —ç–º–æ–¥–∑–∏ ü§ñ –≤ –∫–æ–Ω—Ü–µ
5. **–°–µ—Ä–≤–µ—Ä**: SSH root@31.44.7.144, —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è /root/mira_bot
6. **–†–µ—Å—Ç–∞—Ä—Ç –±–æ—Ç–∞**: systemctl restart mira_bot (–∏–ª–∏ pkill + nohup)

## –¢–µ–∫—É—â–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
- P1: Mood Analyzer ‚Üí –ø—Ä–æ–º–ø—Ç (—Å–º–µ—à–∞–Ω–Ω—ã–µ —ç–º–æ—Ü–∏–∏)
- P1: –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ (–∑–∞—â–∏—Ç–∞ –æ—Ç –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π)
- P1: Vision AI (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ñ–æ—Ç–æ)
- P2: –ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞ –≥–æ–ª–æ—Å–∞
- P2: –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

## –°—Ç–∏–ª—å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø—Ä–æ–µ–∫—Ç–∞
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ –∏ –ø–æ –¥–µ–ª—É
- –ü–æ–∫–∞–∑—ã–≤–∞–π –ø—Ä–æ–≥—Ä–µ—Å—Å —á–µ—Ä–µ–∑ TodoWrite
- –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π –±—ç–∫–∞–ø—ã –ø–µ—Ä–µ–¥ –±–æ–ª—å—à–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- –î–µ–ø–ª–æ–π: –æ–±–Ω–æ–≤–ª—è–π –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Üí —Ä–µ—Å—Ç–∞—Ä—Ç –±–æ—Ç–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
- Git: –∫–æ–º–º–∏—Ç—ã —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@31.44.7.144

# –†–µ—Å—Ç–∞—Ä—Ç –±–æ—Ç–∞
systemctl restart mira_bot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
systemctl status mira_bot

# –õ–æ–≥–∏
journalctl -u mira_bot -f

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
psql -U mirabot -d mirabot_db

# –ú–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head
```

## –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã)
- `config/settings.py` - –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
- `bot/main.py` - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –±–æ—Ç–∞
- `webapp/app.py` - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ WebApp
- `database/models.py` - –ú–æ–¥–µ–ª–∏ –ë–î (User, Message, Subscription, etc.)
- `CHANGELOG.md` - –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π
- `docs/QUICK_REFERENCE.md` - –ü–æ–ª–Ω–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞ (‚≠ê –ß–ò–¢–ê–ô –ü–ï–†–í–´–ú!)
- `requirements.txt` - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python

## –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã
1. –ü—Ä–æ—á–∏—Ç–∞–π `docs/QUICK_REFERENCE.md` - —Ç–∞–º –≤—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –≤ `CHANGELOG.md`
3. –ü–æ—Å–º–æ—Ç—Ä–∏ –ø–ª–∞–Ω—ã –≤ `docs/22.12.25/P1_P2_Implementation_Plan.md`
4. –ò–∑—É—á–∏ –∫—Ä–∏–∑–∏—Å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –≤ `ai/crisis_protocol.py`

## –®–∞–±–ª–æ–Ω commit message
```
—Ç–∏–ø: –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–î–µ—Ç–∞–ª–∏:
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2

–§–∞–π–ª—ã: file1.py, file2.py

ü§ñ Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

## –¢–∏–ø—ã –∫–æ–º–º–∏—Ç–æ–≤
- `feat:` - –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- `fix:` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- `docs:` - —Ç–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `refactor:` - —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞
- `test:` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- `chore:` - —Ä—É—Ç–∏–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∫–æ–Ω—Ñ–∏–≥)

## –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è
1. –°–æ–∑–¥–∞–π –±—ç–∫–∞–ø: `tar -czf /backup/mira_bot_$(date +%Y%m%d_%H%M%S).tar.gz mira_bot`
2. –ó–∞–∫–æ–º–º–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ: `git add . && git commit -m "..." && git push`
3. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: `cd /root/mira_bot && git pull`
4. –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
5. –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∞ –ë–î: `alembic upgrade head`
6. –†–µ—Å—Ç–∞—Ä—Ç: `systemctl restart mira_bot`
7. –ü—Ä–æ–≤–µ—Ä–∫–∞: `journalctl -u mira_bot -f`

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- **–í–µ—Ä—Å–∏—è**: 2.1.2
- **–ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: ~25
- **–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤**: 1 (–õ–∏–∑–∞, Telegram ID: 1392513515)
- **–ü—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: 1 (–ï–ª–µ–Ω–∞, 30 –¥–Ω–µ–π)
- **–°—Ç–∞—Ç—É—Å –±–æ—Ç–∞**: –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ production
- **–ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π**: 28.12.2025

## –í–∞–∂–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–∫–æ–Ω—Ç–µ–∫—Å—Ç)
| –ò–º—è | Telegram ID | –†–æ–ª—å | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|-----|-------------|------|-------------|
| –õ–∏–∑–∞ | 1392513515 | –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä (–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω) | –§–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–µ –±–µ—Å–µ–¥—ã |
| –ï–ª–µ–Ω–∞ | 1926322383 | –ü—Ä–µ–º–∏—É–º (30 –¥–Ω–µ–π) | –ü—Ä–æ–±–ª–µ–º–∞ —Å –¥–æ—á–µ—Ä—å—é |
| –ù–∞—Å—Ç—è | 620828717 | –û–±—ã—á–Ω—ã–π | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ 28.12.25 |
| –ê–Ω–∂–µ–ª–∏–∫–∞ | 5028115785 | –û–±—ã—á–Ω—ã–π | 17 –ª–µ—Ç, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–∏–∞–ª–æ–≥ |
| –ù–∏–Ω–∞ | 2024619238 | –û–±—ã—á–Ω—ã–π | –ü—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–Ω–æ–º |

## –ß–∞—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏

### –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```python
from telegram import Bot
from config.settings import settings

bot = Bot(token=settings.TELEGRAM_BOT_TOKEN)
await bot.send_message(chat_id=TELEGRAM_ID, text="–¢–µ–∫—Å—Ç")
```

### –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î
```python
from database.repositories.conversation import ConversationRepository

repo = ConversationRepository()
await repo.save_message(
    user_id=user.id,
    role='assistant',
    content='–¢–µ–∫—Å—Ç',
    tags=['tag1', 'tag2']
)
```

### –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```python
from database.repositories.user import UserRepository

repo = UserRepository()
user = await repo.get_by_telegram_id(telegram_id)
```

### –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
```python
from database.repositories.subscription import SubscriptionRepository
from datetime import datetime, timedelta

repo = SubscriptionRepository()
await repo.create(
    user_id=user.id,
    plan='premium',
    expires_at=datetime.now() + timedelta(days=30)
)
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚ö†Ô∏è **–ù–ò–ö–û–ì–î–ê** –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å .env —Ñ–∞–π–ª—ã
- ‚ö†Ô∏è **–í–°–ï–ì–î–ê** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤
- ‚ö†Ô∏è **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–¥ SQL
- ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û** —Å–ª–µ–¥–æ–≤–∞—Ç—å –∫—Ä–∏–∑–∏—Å–Ω–æ–º—É –ø—Ä–æ—Ç–æ–∫–æ–ª—É –ø—Ä–∏ –¥–µ—Ç–µ–∫—Ü–∏–∏ —Å—É–∏—Ü–∏–¥–∞

## –ö—Ä–∏–∑–∏—Å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª (P0)
1. –î–µ—Ç–µ–∫—Ü–∏—è —á–µ—Ä–µ–∑ `crisis_detector.py`
2. –ï—Å–ª–∏ level = "critical" –∏–ª–∏ "high":
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ù–ï–ú–ï–î–õ–ï–ù–ù–û (–î–û Claude)
   - –ö–æ–Ω—Ç–∞–∫—Ç—ã: 8-800-2000-122, 112
3. Claude –æ—Ç–≤–µ—á–∞–µ—Ç –ø–æ –∂—ë—Å—Ç–∫–æ–º—É –ø—Ä–æ—Ç–æ–∫–æ–ª—É:
   - –ù–ï –≤—ã–¥—É–º—ã–≤–∞—Ç—å —Ñ–∞–∫—Ç—ã
   - –ù–ï –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É
   - –¢–æ–ª—å–∫–æ —Ç—ë–ø–ª–æ–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `docs/QUICK_REFERENCE.md` ‚≠ê
- –ü–ª–∞–Ω P1/P2: `docs/22.12.25/P1_P2_Implementation_Plan.md`
- –ü–ª–∞–Ω –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤: `docs/23.12.25/TODO_MODERATOR_ACCESS.md`
- GitHub: https://github.com/ircitdev/MiraBot
- Claude Console: https://console.anthropic.com/
- Telegram Bot API: https://core.telegram.org/bots/api

## –ö–æ–≥–¥–∞ –Ω–µ –∑–Ω–∞–µ—à—å —á—Ç–æ –¥–µ–ª–∞—Ç—å
1. –ü—Ä–æ—á–∏—Ç–∞–π `docs/QUICK_REFERENCE.md` - —Ä–∞–∑–¥–µ–ª Troubleshooting
2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `journalctl -u mira_bot -n 50`
3. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å: `systemctl status mira_bot`
4. –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–æ—Ü–µ—Å—Å—ã: `ps aux | grep python.*mira_bot`
5. –ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–µ–¥–∞–≤–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã: `git log --oneline -5`

## –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –ò—Å–ø–æ–ª—å–∑—É–π TodoWrite –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–Ω–µ –æ–ø–∏—Å–∞–Ω–∏—è)
- –õ–æ–≥–∏—Ä—É–π –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–π —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π (‚úÖ/‚ùå)
- –ü—Ä–µ–¥–ª–∞–≥–∞–π —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö
1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (–∫—Ä–∏–∑–∏—Å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª)
2. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å production** (–Ω–µ –ª–æ–º–∞–π —Ä–∞–±–æ—Ç–∞—é—â–µ–µ)
3. **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞** (—á–∏—Ç–∞–µ–º–æ—Å—Ç—å > –∫—Ä–∞—Ç–∫–æ—Å—Ç—å)
4. **–°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** (–¥–µ–ª–∞–π –±—ã—Å—Ç—Ä–æ, –Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)

## –ó–∞–ø—Ä–µ—â–µ–Ω–æ
- ‚ùå –ö–æ–º–º–∏—Ç–∏—Ç—å .env —Ñ–∞–π–ª—ã
- ‚ùå –•–∞—Ä–¥–∫–æ–¥–∏—Ç—å API –∫–ª—é—á–∏
- ‚ùå –ò–∑–º–µ–Ω—è—Ç—å –ë–î –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π
- ‚ùå –î–µ–ø–ª–æ–∏—Ç—å –±–µ–∑ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚ùå –£–¥–∞–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- ‚ùå –ü—Ä–æ–ø—É—Å–∫–∞—Ç—å –±—ç–∫–∞–ø—ã –ø–µ—Ä–µ–¥ –±–æ–ª—å—à–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∏–∑–∏—Å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª

## –í—Å–µ–≥–¥–∞ –ø–æ–º–Ω–∏
- –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–º–æ–≥–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–º –ª—é–¥—è–º –≤ —Ç—Ä—É–¥–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö
- –ë–∞–≥–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ö–∞—á–µ—Å—Ç–≤–æ –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π –≤—Å—ë —á—Ç–æ –¥–µ–ª–∞–µ—à—å
- –ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è - —Å–ø—Ä–æ—Å–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–æ–µ–∫—Ç–∞
```

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π

1. **–î–æ–±–∞–≤—å —Ñ–∞–π–ª—ã –≤ –ø—Ä–æ–µ–∫—Ç** (–≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞):
   - `docs/QUICK_REFERENCE.md` ‚≠ê (—Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π!)
   - `CHANGELOG.md`
   - `docs/23.12.25/TODO_MODERATOR_ACCESS.md`
   - `docs/22.12.25/P1_P2_Implementation_Plan.md`
   - `config/settings.py`
   - `database/models.py`
   - `ai/prompts/system_prompt.py`
   - `bot/handlers/message.py`
   - –ò –¥—Ä—É–≥–∏–µ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

2. **–ò—Å–ø–æ–ª—å–∑—É–π @-mentions –≤ —á–∞—Ç–∞—Ö**:
   - `@QUICK_REFERENCE.md` - –¥–ª—è –∫–æ–º–∞–Ω–¥ –∏ troubleshooting
   - `@CHANGELOG.md` - –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ –≤–µ—Ä—Å–∏–π
   - `@system_prompt.py` - –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –±–æ—Ç–∞
   - `@models.py` - –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

3. **Memory –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–º–Ω–∏—Ç**:
   - –í–µ—Ä—Å–∏—é –ø—Ä–æ–µ–∫—Ç–∞ (2.1.2)
   - SSH –∫–æ–º–∞–Ω–¥—ã –∏ –ø—É—Ç–∏
   - –ò–º–µ–Ω–∞ –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Claude Project

‚úÖ **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω** - –Ω–µ –Ω—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
‚úÖ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Å—Ç–∏–ª—å —Ä–∞–±–æ—Ç—ã –≤ —Ä–∞–∑–Ω—ã—Ö —Å–µ—Å—Å–∏—è—Ö
‚úÖ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç** - –Ω–æ–≤–∞—è —Å–µ—Å—Å–∏—è —Å—Ä–∞–∑—É –ø–æ–Ω–∏–º–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç
‚úÖ **–£–º–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏** - Claude –∑–Ω–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –º–æ–∂–µ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è
‚úÖ **–ú–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫** - –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π

–ü—Ä–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –ø—Ä–æ–µ–∫—Ç–µ –æ–±–Ω–æ–≤–∏:
1. –≠—Ç–æ—Ç —Ñ–∞–π–ª (`Claude_Instructions.md`)
2. –°–∫–æ–ø–∏—Ä—É–π –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ Claude Project
3. –ó–∞–∫–æ–º–º–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ git
4. –û–±–Ω–æ–≤–∏—Ç—å CHANGELOG.md

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 28.12.2025
**–ê–≤—Ç–æ—Ä:** Claude Sonnet 4.5 via Claude Code
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
