<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ú–∏—Ä–∞ ‚Äî –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #FFF8F0 0%, #F5E6D3 50%, #EDD5C0 100%);
            min-height: 100vh;
            padding: 20px;
            color: #4A3728;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* Header with Heart */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px 0;
        }

        .heart-container {
            position: relative;
            display: inline-block;
            margin-bottom: 20px;
        }

        .heart {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #FFB085 0%, #FF8B6A 50%, #E57373 100%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            transform: rotate(-45deg);
            position: relative;
            box-shadow:
                0 10px 30px rgba(255, 139, 106, 0.4),
                inset 0 -5px 15px rgba(255, 255, 255, 0.3);
            animation: heartGlow 2s ease-in-out infinite;
        }

        .heart::before,
        .heart::after {
            content: '';
            position: absolute;
            background: inherit;
            border-radius: 50%;
        }

        .heart::before {
            width: 80px;
            height: 80px;
            top: -40px;
            left: 0;
        }

        .heart::after {
            width: 80px;
            height: 80px;
            top: 0;
            left: 40px;
        }

        .sparkle {
            position: absolute;
            width: 12px;
            height: 12px;
            background: white;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
            animation: sparkle 1.5s ease-in-out infinite;
            z-index: 10;
        }

        @keyframes heartGlow {
            0%, 100% {
                box-shadow:
                    0 10px 30px rgba(255, 139, 106, 0.4),
                    inset 0 -5px 15px rgba(255, 255, 255, 0.3);
            }
            50% {
                box-shadow:
                    0 15px 40px rgba(255, 139, 106, 0.6),
                    inset 0 -5px 15px rgba(255, 255, 255, 0.4);
            }
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0.6; transform: translate(-50%, -50%) rotate(45deg) scale(1); }
            50% { opacity: 1; transform: translate(-50%, -50%) rotate(45deg) scale(1.2); }
        }

        .header h1 {
            font-size: 26px;
            color: #5D4037;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .header p {
            font-size: 14px;
            color: #8D6E63;
        }

        /* Banner */
        .banner {
            background: linear-gradient(135deg, #FFFFFF 0%, #FFF5EE 100%);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 8px 25px rgba(139, 90, 43, 0.1);
            border: 1px solid rgba(255, 183, 133, 0.3);
        }

        .banner h2 {
            font-size: 18px;
            color: #5D4037;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .icon {
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #81C784 0%, #4CAF50 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        /* Content Section */
        .content-section {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(139, 90, 43, 0.08);
        }

        .content-section h2 {
            font-size: 20px;
            color: #5D4037;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #FFE0CC;
        }

        .content-section h3 {
            font-size: 17px;
            color: #6D4C41;
            margin-top: 20px;
            margin-bottom: 12px;
        }

        .content-section h4 {
            font-size: 15px;
            color: #795548;
            margin-top: 15px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .content-section p {
            margin-bottom: 12px;
            color: #5D4037;
            font-size: 14px;
        }

        .content-section ul,
        .content-section ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .content-section li {
            margin-bottom: 8px;
            color: #5D4037;
            font-size: 14px;
        }

        /* Code blocks */
        code {
            background: #F5F5F5;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            color: #D84315;
        }

        pre {
            background: #2D2D2D;
            color: #F8F8F2;
            padding: 15px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 15px 0;
            font-size: 13px;
            line-height: 1.5;
        }

        pre code {
            background: transparent;
            color: inherit;
            padding: 0;
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 14px;
        }

        th {
            background: #FFE0CC;
            padding: 10px;
            text-align: left;
            font-weight: 600;
            color: #5D4037;
            border: 1px solid #FFD7B8;
        }

        td {
            padding: 10px;
            border: 1px solid #FFE8D6;
        }

        tr:nth-child(even) {
            background: #FFF8F5;
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin: 2px 4px;
        }

        .badge-success {
            background: #C8E6C9;
            color: #2E7D32;
        }

        .badge-warning {
            background: #FFE082;
            color: #F57C00;
        }

        .badge-info {
            background: #B3E5FC;
            color: #0277BD;
        }

        .badge-danger {
            background: #FFCDD2;
            color: #C62828;
        }

        /* Alert boxes */
        .alert {
            padding: 15px 20px;
            border-radius: 12px;
            margin: 15px 0;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .alert-info {
            background: #E3F2FD;
            border-left: 4px solid #2196F3;
            color: #1565C0;
        }

        .alert-warning {
            background: #FFF3E0;
            border-left: 4px solid #FF9800;
            color: #E65100;
        }

        .alert-success {
            background: #E8F5E9;
            border-left: 4px solid #4CAF50;
            color: #2E7D32;
        }

        .alert-danger {
            background: #FFEBEE;
            border-left: 4px solid #F44336;
            color: #C62828;
        }

        /* Navigation */
        .nav-section {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(139, 90, 43, 0.08);
        }

        .nav-section h3 {
            font-size: 16px;
            color: #5D4037;
            margin-bottom: 12px;
        }

        .nav-section ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .nav-section li {
            margin-bottom: 8px;
        }

        .nav-section a {
            color: #FF8B6A;
            text-decoration: none;
            font-size: 14px;
            transition: color 0.2s;
        }

        .nav-section a:hover {
            color: #E57373;
            text-decoration: underline;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 20px;
            color: #8D6E63;
            font-size: 13px;
        }

        .footer a {
            color: #FF8B6A;
            text-decoration: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }

            .header h1 {
                font-size: 22px;
            }

            .content-section {
                padding: 20px;
            }

            .content-section h2 {
                font-size: 18px;
            }

            table {
                font-size: 12px;
            }

            th, td {
                padding: 8px;
            }

            pre {
                font-size: 12px;
                padding: 12px;
            }
        }

        /* Smooth scroll */
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="heart-container">
                <div class="heart">
                    <div class="sparkle"></div>
                </div>
            </div>
            <h1>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ú–∏—Ä–∞</h1>
            <p>–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –±–æ—Ç–æ–º</p>
        </div>

        <!-- Info Banner -->
        <div class="banner">
            <h2>
                <div class="icon">üìö</div>
                Comprehensive Guide
            </h2>
            <p style="margin-bottom: 8px;">–≠—Ç–æ complete —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –ú–∏—Ä–∞.</p>
            <p style="font-size: 13px; color: #8D6E63;">–í–µ—Ä—Å–∏—è 1.0.0 ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–æ 15.12.2025</p>
        </div>

        <!-- Quick Navigation -->
        <div class="nav-section">
            <h3>üß≠ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è</h3>
            <ul>
                <li><a href="#general">–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</a></li>
                <li><a href="#access">–î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏</a></li>
                <li><a href="#overview">–û–±–∑–æ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</a></li>
                <li><a href="#stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏</a></li>
                <li><a href="#users">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</a></li>
                <li><a href="#broadcast">–ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞</a></li>
                <li><a href="#analytics">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a></li>
                <li><a href="#api">API Endpoints</a></li>
                <li><a href="#security">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</a></li>
                <li><a href="#troubleshooting">Troubleshooting</a></li>
            </ul>
        </div>

        <!-- General Info -->
        <div class="content-section" id="general">
            <h2>üìå –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
            <p>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ú–∏—Ä–∞ ‚Äî —ç—Ç–æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π.</p>

            <h3>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h3>
            <ul>
                <li><strong>Backend:</strong> FastAPI (Python)</li>
                <li><strong>Frontend:</strong> Vanilla JS + Material Design 3</li>
                <li><strong>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:</strong> PostgreSQL</li>
                <li><strong>–ì—Ä–∞—Ñ–∏–∫–∏:</strong> Chart.js</li>
            </ul>

            <h3>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</h3>
            <div class="alert alert-info">
                <div>‚ÑπÔ∏è</div>
                <div>
                    <ul style="margin: 0;">
                        <li>Responsive –¥–∏–∑–∞–π–Ω (—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö)</li>
                        <li>Dark/Light —Ç–µ–º–∞</li>
                        <li>Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</li>
                        <li>Telegram Web App –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</li>
                        <li>–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Access -->
        <div class="content-section" id="access">
            <h2>üîê –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏</h2>

            <h3>–°–ø–æ—Å–æ–± 1: Web-–≤–µ—Ä—Å–∏—è (—Å —Ç–æ–∫–µ–Ω–æ–º)</h3>
            <ol>
                <li>–ü–æ–ª—É—á–∏—Ç–µ admin token –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è <code>ADMIN_TOKEN</code></li>
                <li>–û—Ç–∫—Ä–æ–π—Ç–µ: <code>https://your-domain.com/admin?token=YOUR_ADMIN_TOKEN</code></li>
                <li>–¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage –±—Ä–∞—É–∑–µ—Ä–∞</li>
            </ol>

            <h3>–°–ø–æ—Å–æ–± 2: Telegram Web App</h3>
            <ol>
                <li>–û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –∫–æ–º–∞–Ω–¥—É <code>/admin</code> (–µ—Å–ª–∏ –≤—ã –≤ —Å–ø–∏—Å–∫–µ –∞–¥–º–∏–Ω–æ–≤)</li>
                <li>–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å—Å—ã–ª–∫—É —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π</li>
                <li>–û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π WebApp</li>
            </ol>

            <h3>–°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</h3>
            <p>–ê–¥–º–∏–Ω—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ <code>webapp/api/routes/admin.py</code>:</p>
            <pre><code>ADMIN_IDS = [
    getattr(settings, 'ADMIN_TELEGRAM_ID', 0),
    65876198,  # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–¥–º–∏–Ω
]</code></pre>

            <div class="alert alert-warning">
                <div>‚ö†Ô∏è</div>
                <div>
                    <strong>–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞:</strong>
                    <ol style="margin: 8px 0 0 0;">
                        <li>–£–∑–Ω–∞–π—Ç–µ Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
                        <li>–î–æ–±–∞–≤—å—Ç–µ ID –≤ –º–∞—Å—Å–∏–≤ <code>ADMIN_IDS</code></li>
                        <li>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ webapp: <code>systemctl restart mirabot-webapp</code></li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- Overview -->
        <div class="content-section" id="overview">
            <h2>üñ•Ô∏è –û–±–∑–æ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</h2>

            <h3>–í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å (App Bar)</h3>
            <ul>
                <li><strong>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</strong> "–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ú–∏—Ä–∞"</li>
                <li><strong>–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã:</strong> Dark/Light mode</li>
            </ul>

            <h3>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—Å–µ–∫—Ü–∏–∏ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑)</h3>
            <ol>
                <li>–ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (6 –±–ª–æ–∫–æ–≤)</li>
                <li>Retention –º–µ—Ç—Ä–∏–∫–∏ (DAU/WAU/MAU)</li>
                <li>–ì—Ä–∞—Ñ–∏–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (—Å —Ç–∞–±–∞–º–∏)</li>
                <li>–ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–ü–æ–∏—Å–∫, –û–±–Ω–æ–≤–∏—Ç—å, –†–∞—Å—Å—ã–ª–∫–∞)</li>
                <li>–§–∏–ª—å—Ç—Ä—ã (—Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∞—è—Å—è –ø–∞–Ω–µ–ª—å)</li>
                <li>Bulk Actions (–ø—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)</li>
                <li>–¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
                <li>–ü–∞–≥–∏–Ω–∞—Ü–∏—è</li>
            </ol>
        </div>

        <!-- Stats -->
        <div class="content-section" id="stats">
            <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏</h2>

            <h3>–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏</h3>
            <table>
                <thead>
                    <tr>
                        <th>–ú–µ—Ç—Ä–∏–∫–∞</th>
                        <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</strong></td>
                        <td>–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö</td>
                    </tr>
                    <tr>
                        <td><strong>–ê–∫—Ç–∏–≤–Ω—ã —Å–µ–≥–æ–¥–Ω—è</strong></td>
                        <td>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å last_active_at —Å–µ–≥–æ–¥–Ω—è</td>
                    </tr>
                    <tr>
                        <td><strong>–ê–∫—Ç–∏–≤–Ω—ã –∑–∞ –Ω–µ–¥–µ–ª—é</strong></td>
                        <td>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</td>
                    </tr>
                    <tr>
                        <td><strong>–í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π</strong></td>
                        <td>–°—É–º–º–∞—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π</td>
                    </tr>
                    <tr>
                        <td><strong>–°–æ–æ–±—â–µ–Ω–∏–π —Å–µ–≥–æ–¥–Ω—è</strong></td>
                        <td>–°–æ–æ–±—â–µ–Ω–∏—è –∑–∞ —Å–µ–≥–æ–¥–Ω—è</td>
                    </tr>
                    <tr>
                        <td><strong>Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</strong></td>
                        <td>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –∞–∫—Ç–∏–≤–Ω–æ–π Premium –ø–æ–¥–ø–∏—Å–∫–æ–π</td>
                    </tr>
                </tbody>
            </table>

            <h3>Retention –º–µ—Ç—Ä–∏–∫–∏</h3>
            <ul>
                <li><strong>DAU (Daily Active Users):</strong> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞</li>
                <li><strong>WAU (Weekly Active Users):</strong> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</li>
                <li><strong>MAU (Monthly Active Users):</strong> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π</li>
                <li><strong>DAU/WAU (Stickiness):</strong> –ü—Ä–æ—Ü–µ–Ω—Ç –¥–Ω–µ–≤–Ω—ã—Ö –æ—Ç –Ω–µ–¥–µ–ª—å–Ω—ã—Ö. –§–æ—Ä–º—É–ª–∞: <code>(DAU / WAU) * 100</code></li>
                <li><strong>WAU/MAU:</strong> –ü—Ä–æ—Ü–µ–Ω—Ç –Ω–µ–¥–µ–ª—å–Ω—ã—Ö –æ—Ç –º–µ—Å—è—á–Ω—ã—Ö. –§–æ—Ä–º—É–ª–∞: <code>(WAU / MAU) * 100</code></li>
            </ul>

            <div class="alert alert-success">
                <div>‚úÖ</div>
                <div>
                    <strong>–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è stickiness:</strong><br>
                    &lt; 10% ‚Äî –Ω–∏–∑–∫–∞—è –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å<br>
                    10-20% ‚Äî —Å—Ä–µ–¥–Ω—è—è<br>
                    20-30% ‚Äî —Ö–æ—Ä–æ—à–∞—è<br>
                    &gt; 30% ‚Äî –æ—Ç–ª–∏—á–Ω–∞—è (–∫–∞–∫ —É —Å–æ—Ü—Å–µ—Ç–µ–π)
                </div>
            </div>
        </div>

        <!-- Users Management -->
        <div class="content-section" id="users">
            <h2>üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>

            <h3>–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
            <p>–ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ:</p>
            <ul>
                <li>–ò–º–µ–Ω–∏ (first_name)</li>
                <li>Display name</li>
                <li>Username</li>
            </ul>
            <p><strong>–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏:</strong></p>
            <ul>
                <li><code>Enter</code> ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∏—Å–∫</li>
                <li><code>/</code> ‚Äî –±—ã—Å—Ç—Ä—ã–π —Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞</li>
                <li><code>r</code> ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫</li>
            </ul>

            <h3>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è</h3>
            <p>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:</p>
            <ol>
                <li><strong>–ü–æ –ø–æ–¥–ø–∏—Å–∫–µ:</strong> Premium, Trial, Free</li>
                <li><strong>–ü–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:</strong> –°–µ–≥–æ–¥–Ω—è, –ó–∞ –Ω–µ–¥–µ–ª—é, –ó–∞ –º–µ—Å—è—Ü, –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ &gt;30 –¥–Ω–µ–π</li>
                <li><strong>–ü–æ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥—É:</strong> –ó–∞–≤–µ—Ä—à—ë–Ω, –ù–µ –∑–∞–≤–µ—Ä—à—ë–Ω</li>
                <li><strong>–ü–æ –¥–∞—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> –°–µ–≥–æ–¥–Ω—è, –ó–∞ –Ω–µ–¥–µ–ª—é, –ó–∞ –º–µ—Å—è—Ü</li>
            </ol>

            <h3>–î–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º</h3>
            <table>
                <thead>
                    <tr>
                        <th>–ò–∫–æ–Ω–∫–∞</th>
                        <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                        <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>üëÅÔ∏è</td>
                        <td>–ü—Ä–æ—Å–º–æ—Ç—Ä</td>
                        <td>–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</td>
                    </tr>
                    <tr>
                        <td>üí¨</td>
                        <td>–ü–µ—Ä–µ–ø–∏—Å–∫–∞</td>
                        <td>–ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (–¥–æ 200)</td>
                    </tr>
                    <tr>
                        <td>‚≠ê</td>
                        <td>–í—ã–¥–∞—Ç—å Premium</td>
                        <td>–°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</td>
                    </tr>
                    <tr>
                        <td>‚¨áÔ∏è</td>
                        <td>–≠–∫—Å–ø–æ—Ä—Ç</td>
                        <td>–°–∫–∞—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤ CSV</td>
                    </tr>
                </tbody>
            </table>

            <h3>Bulk Actions (–º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)</h3>
            <p>–ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (checkbox). –î–æ—Å—Ç—É–ø–Ω—ã:</p>
            <ul>
                <li><strong>–í—ã–¥–∞—Ç—å Premium:</strong> –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–º</li>
                <li><strong>–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å:</strong> –°–æ–∑–¥–∞—ë—Ç CSV —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –≤—Å–µ—Ö –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö</li>
                <li><strong>–°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ:</strong> –û—á–∏—â–∞–µ—Ç –≤—Å–µ —á–µ–∫–±–æ–∫—Å—ã</li>
            </ul>
        </div>

        <!-- Broadcast -->
        <div class="content-section" id="broadcast">
            <h2>üì£ –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞</h2>
            <p>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≥—Ä—É–ø–ø–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ –±–æ—Ç–∞.</p>

            <h3>–ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å</h3>
            <p>–ö–Ω–æ–ø–∫–∞ <span class="badge badge-warning">–†–∞—Å—Å—ã–ª–∫–∞</span> (–æ—Ä–∞–Ω–∂–µ–≤–∞—è, —Å –∏–∫–æ–Ω–∫–æ–π üì£) –≤ toolbar.</p>

            <h3>–¶–µ–ª–µ–≤—ã–µ –≥—Ä—É–ø–ø—ã</h3>
            <table>
                <thead>
                    <tr>
                        <th>–ì—Ä—É–ø–ø–∞</th>
                        <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</td>
                        <td>–í—Å–µ –Ω–µ–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</td>
                    </tr>
                    <tr>
                        <td>Premium</td>
                        <td>–ê–∫—Ç–∏–≤–Ω–∞—è Premium –ø–æ–¥–ø–∏—Å–∫–∞</td>
                    </tr>
                    <tr>
                        <td>Trial</td>
                        <td>–ê–∫—Ç–∏–≤–Ω–∞—è Trial –ø–æ–¥–ø–∏—Å–∫–∞</td>
                    </tr>
                    <tr>
                        <td>Free</td>
                        <td>–ë–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏</td>
                    </tr>
                    <tr>
                        <td>–ê–∫—Ç–∏–≤–Ω—ã —Å–µ–≥–æ–¥–Ω—è</td>
                        <td>last_active_at —Å–µ–≥–æ–¥–Ω—è</td>
                    </tr>
                    <tr>
                        <td>–ê–∫—Ç–∏–≤–Ω—ã –∑–∞ –Ω–µ–¥–µ–ª—é</td>
                        <td>–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</td>
                    </tr>
                    <tr>
                        <td>–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ</td>
                        <td>–ù–µ –∞–∫—Ç–∏–≤–Ω—ã &gt;30 –¥–Ω–µ–π</td>
                    </tr>
                </tbody>
            </table>

            <h3>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏—è</h3>
            <ul>
                <li><strong>–ú–∏–Ω–∏–º—É–º:</strong> 5 —Å–∏–º–≤–æ–ª–æ–≤</li>
                <li><strong>Markdown:</strong> –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è <code>**–∂–∏—Ä–Ω—ã–π**</code>, <code>*–∫—É—Ä—Å–∏–≤*</code>, <code>`–∫–æ–¥`</code>, <code>[—Å—Å—ã–ª–∫–∞](url)</code></li>
                <li><strong>–ó–∞–¥–µ—Ä–∂–∫–∞:</strong> 0-10 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1-2 —Å–µ–∫)</li>
            </ul>

            <div class="alert alert-danger">
                <div>‚ö†Ô∏è</div>
                <div>
                    <strong>–í–∞–∂–Ω–æ:</strong> –†–∞—Å—Å—ã–ª–∫–∞ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—Å–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º. –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞.
                </div>
            </div>

            <h3>–ü—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–∫–∏</h3>
            <ol>
                <li><strong>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:</strong> –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ü–µ–ª–µ–≤–∞—è –≥—Ä—É–ø–ø–∞ –∏ –ø—Ä–µ–≤—å—é —Å–æ–æ–±—â–µ–Ω–∏—è</li>
                <li><strong>–ó–∞–ø—É—Å–∫:</strong> API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç task_id –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π</li>
                <li><strong>–§–æ–Ω–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞:</strong> –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ <code>asyncio.create_task</code></li>
                <li><strong>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong> –í—Å–µ —Å–æ–±—ã—Ç–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ <code>/var/log/mirabot.log</code></li>
            </ol>

            <h3>–ü—Ä–∏–º–µ—Ä: –û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö</h3>
            <pre><code>–¶–µ–ª–µ–≤–∞—è –≥—Ä—É–ø–ø–∞: –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
–°–æ–æ–±—â–µ–Ω–∏–µ:
üéâ **–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏!**

–¢–µ–ø–µ—Ä—å –≤ –±–æ—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã:
‚Ä¢ SMART —Ü–µ–ª–∏ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º
‚Ä¢ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø–ª–∞–Ω–∞—Ö
‚Ä¢ –£–ª—É—á—à–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è

–ü–æ–ø—Ä–æ–±—É–π –∫–æ–º–∞–Ω–¥—É /goals</code></pre>
        </div>

        <!-- Analytics -->
        <div class="content-section" id="analytics">
            <h2>üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>

            <h3>5 —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤</h3>

            <h4>1. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (Line chart)</h4>
            <ul>
                <li>–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ –¥–Ω—è–º</li>
                <li>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ –¥–Ω—è–º</li>
                <li>–ü–µ—Ä–∏–æ–¥—ã: 7 –∏–ª–∏ 30 –¥–Ω–µ–π</li>
            </ul>

            <h4>2. –ü–æ–¥–ø–∏—Å–∫–∏ (Doughnut chart)</h4>
            <ul>
                <li>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Premium / Trial / Free</li>
                <li>–†–∞—Å—á—ë—Ç Free: <code>total_users - premium - trial</code></li>
            </ul>

            <h4>3. –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ (Line chart)</h4>
            <ul>
                <li>–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è (0-10)</li>
                <li>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π</li>
                <li>–ü–µ—Ä–∏–æ–¥—ã: 7, 30 –∏–ª–∏ 90 –¥–Ω–µ–π</li>
            </ul>

            <div class="alert alert-info">
                <div>‚ÑπÔ∏è</div>
                <div>
                    <strong>–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –±–∞–ª–ª–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è:</strong><br>
                    0-3: –û—á–µ–Ω—å –ø–ª–æ—Ö–æ–µ<br>
                    4-5: –ü–ª–æ—Ö–æ–µ<br>
                    6-7: –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ<br>
                    8-9: –•–æ—Ä–æ—à–µ–µ<br>
                    10: –û—Ç–ª–∏—á–Ω–æ–µ
                </div>
            </div>

            <h4>4. –≠–º–æ—Ü–∏–∏ (Bar chart)</h4>
            <ul>
                <li>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π: –†–∞–¥–æ—Å—Ç—å, –ì—Ä—É—Å—Ç—å, –¢—Ä–µ–≤–æ–≥–∞, –ì–Ω–µ–≤, –°—Ç—Ä–∞—Ö, –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ, –∏ –¥—Ä.</li>
                <li>–ü–µ—Ä–∏–æ–¥—ã: 7, 30 –∏–ª–∏ 90 –¥–Ω–µ–π</li>
            </ul>

            <h4>5. –¢–æ–ø-—Ç–µ–≥–∏ (Horizontal bar chart)</h4>
            <ul>
                <li>5 —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö —Ç–µ–≥–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π</li>
                <li>–ü–µ—Ä–∏–æ–¥—ã: 7, 30 –∏–ª–∏ 90 –¥–Ω–µ–π</li>
            </ul>
        </div>

        <!-- API -->
        <div class="content-section" id="api">
            <h2>üîå API Endpoints</h2>

            <h3>–ë–∞–∑–æ–≤—ã–π URL</h3>
            <pre><code>/api/admin</code></pre>

            <h3>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
            <p>–î–≤–∞ —Å–ø–æ—Å–æ–±–∞:</p>
            <ol>
                <li><strong>Admin Token (Bearer):</strong> <code>Authorization: Bearer YOUR_ADMIN_TOKEN</code></li>
                <li><strong>Telegram Init Data:</strong> <code>X-Telegram-Init-Data: query_id=...&user=...</code></li>
            </ol>

            <h3>–û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã</h3>

            <h4>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h4>
            <ul>
                <li><code>GET /users</code> ‚Äî –°–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π</li>
                <li><code>GET /users/{telegram_id}</code> ‚Äî –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</li>
                <li><code>POST /users/{telegram_id}/subscription</code> ‚Äî –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</li>
                <li><code>POST /users/{telegram_id}/block</code> ‚Äî –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</li>
                <li><code>POST /users/{telegram_id}/unblock</code> ‚Äî –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</li>
                <li><code>GET /users/{telegram_id}/messages</code> ‚Äî –ò—Å—Ç–æ—Ä–∏—è</li>
                <li><code>GET /users/{telegram_id}/export/history</code> ‚Äî –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV</li>
            </ul>

            <h4>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h4>
            <ul>
                <li><code>GET /stats/system</code> ‚Äî –°–∏—Å—Ç–µ–º–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</li>
                <li><code>GET /analytics/retention</code> ‚Äî DAU/WAU/MAU</li>
                <li><code>GET /analytics/activity</code> ‚Äî –ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</li>
                <li><code>GET /analytics/subscriptions</code> ‚Äî –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫</li>
                <li><code>GET /analytics/mood</code> ‚Äî –ì—Ä–∞—Ñ–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è</li>
                <li><code>GET /analytics/emotions</code> ‚Äî –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π</li>
                <li><code>GET /analytics/tags</code> ‚Äî –¢–æ–ø-5 —Ç–µ–≥–æ–≤</li>
            </ul>

            <h4>–†–∞—Å—Å—ã–ª–∫–∞</h4>
            <ul>
                <li><code>POST /broadcast</code> ‚Äî –°–æ–∑–¥–∞—Ç—å –º–∞—Å—Å–æ–≤—É—é —Ä–∞—Å—Å—ã–ª–∫—É</li>
            </ul>

            <h3>–ü—Ä–∏–º–µ—Ä: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏</h3>
            <pre><code>POST /api/admin/broadcast
{
  "message": "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è",
  "target_group": "all",
  "delay_seconds": 1
}

Response:
{
  "status": "started",
  "task_id": "uuid",
  "target_users_count": 234,
  "message": "–†–∞—Å—Å—ã–ª–∫–∞ –∑–∞–ø—É—â–µ–Ω–∞ –¥–ª—è 234 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"
}</code></pre>
        </div>

        <!-- Security -->
        <div class="content-section" id="security">
            <h2>üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h2>

            <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤</h3>
            <p>–§—É–Ω–∫—Ü–∏—è <code>require_admin</code> –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –í–°–ï–ú —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º:</p>
            <ul>
                <li>–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–µ–Ω ‚Üí <span class="badge badge-danger">401 Unauthorized</span></li>
                <li>–ï—Å–ª–∏ user_id –Ω–µ –≤ ADMIN_IDS ‚Üí <span class="badge badge-danger">403 Forbidden</span></li>
            </ul>

            <h3>–ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π</h3>
            <ul>
                <li><strong>–†–∞—Å—Å—ã–ª–∫–∞:</strong> –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã, –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, rate limiting —á–µ—Ä–µ–∑ delay_seconds</li>
                <li><strong>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞:</strong> –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏—á–∏–Ω–∞, –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ –ë–î</li>
                <li><strong>–≠–∫—Å–ø–æ—Ä—Ç:</strong> –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 1000 —Å–æ–æ–±—â–µ–Ω–∏–π</li>
            </ul>

            <h3>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
            <p>–í—Å–µ admin actions –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤:</p>
            <ul>
                <li>WebApp: <code>/var/log/mira_webapp.log</code></li>
                <li>Bot: <code>/var/log/mirabot.log</code></li>
            </ul>

            <pre><code>logger.info(f"Admin {admin_id} granted premium to user {user_id}")
logger.warning(f"Admin {admin_id} blocked user {user_id}: {reason}")
logger.info(f"Admin {admin_id} started broadcast {task_id}")</code></pre>
        </div>

        <!-- Troubleshooting -->
        <div class="content-section" id="troubleshooting">
            <h2>üîß Troubleshooting</h2>

            <h3>–ü—Ä–æ–±–ª–µ–º–∞: "Unauthorized" –ø—Ä–∏ –≤—Ö–æ–¥–µ</h3>
            <div class="alert alert-warning">
                <div>‚ö†Ô∏è</div>
                <div>
                    <strong>–ü—Ä–∏—á–∏–Ω—ã:</strong> –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω –∏–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω<br>
                    <strong>–†–µ—à–µ–Ω–∏–µ:</strong>
                    <ol style="margin: 8px 0 0 0;">
                        <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL: <code>?token=...</code></li>
                        <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ localStorage: <code>localStorage.getItem('admin_token')</code></li>
                        <li>–ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω: <code>echo $ADMIN_TOKEN</code></li>
                    </ol>
                </div>
            </div>

            <h3>–ü—Ä–æ–±–ª–µ–º–∞: "Access denied. Admin only"</h3>
            <div class="alert alert-danger">
                <div>‚ùå</div>
                <div>
                    <strong>–ü—Ä–∏—á–∏–Ω–∞:</strong> –í–∞—à telegram_id –Ω–µ –≤ —Å–ø–∏—Å–∫–µ ADMIN_IDS<br>
                    <strong>–†–µ—à–µ–Ω–∏–µ:</strong> –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π ID –≤ <code>webapp/api/routes/admin.py</code> –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ webapp
                </div>
            </div>

            <h3>–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã</h3>

            <h4>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</h4>
            <pre><code># –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
systemctl status mirabot
systemctl status mirabot-webapp

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f /var/log/mirabot.log
tail -f /var/log/mira_webapp.log</code></pre>

            <h4>–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫</h4>
            <pre><code># –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
systemctl restart mirabot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å webapp
systemctl restart mirabot-webapp

# –û–±–∞ —Å—Ä–∞–∑—É
systemctl restart mirabot mirabot-webapp</code></pre>

            <h4>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</h4>
            <pre><code># –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL
psql -U postgres -d mira_bot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT COUNT(*) FROM users;

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ–≥–æ–¥–Ω—è
SELECT COUNT(*) FROM users
WHERE last_active_at >= CURRENT_DATE;</code></pre>
        </div>

        <!-- Keyboard Shortcuts -->
        <div class="content-section">
            <h2>‚å®Ô∏è Keyboard Shortcuts</h2>
            <table>
                <thead>
                    <tr>
                        <th>–ö–ª–∞–≤–∏—à–∞</th>
                        <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>/</code></td>
                        <td>–§–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞</td>
                    </tr>
                    <tr>
                        <td><code>r</code></td>
                        <td>–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</td>
                    </tr>
                    <tr>
                        <td><code>Escape</code></td>
                        <td>–ó–∞–∫—Ä—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ –¥–∏–∞–ª–æ–≥–∏</td>
                    </tr>
                    <tr>
                        <td><code>Enter</code> –≤ –ø–æ–∏—Å–∫–µ</td>
                        <td>–í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∏—Å–∫</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Roadmap -->
        <div class="content-section">
            <h2>üöÄ Roadmap</h2>
            <p>–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:</p>

            <h3>–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h3>
            <ul>
                <li>–ö–æ–≥–æ—Ä—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
                <li>Retention curves</li>
                <li>Funnel analysis</li>
            </ul>

            <h3>–ë–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Ä–∞—Å—Å—ã–ª–∫–∏</h3>
            <ul>
                <li>–û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ–¥–∏–∞ (—Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ, —Å—Ç–∏–∫–µ—Ä—ã)</li>
                <li>–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –≤—Ä–µ–º—è</li>
                <li>A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π</li>
                <li>–û—Ç–º–µ–Ω–∞ —Ä–∞—Å—Å—ã–ª–∫–∏</li>
                <li>–ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä –≤ UI</li>
            </ul>

            <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º</h3>
            <ul>
                <li>–ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏—Ç–∞—Ü–∏–π</li>
                <li>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫</li>
                <li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–∫–µ—Ä-–ø–∞–∫–∞–º–∏</li>
            </ul>

            <h3>CRM —Ñ—É–Ω–∫—Ü–∏–∏</h3>
            <ul>
                <li>–ó–∞–º–µ—Ç–∫–∏ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</li>
                <li>–¢–µ–≥–∏ –∏ —Å–µ–≥–º–µ–Ω—Ç—ã</li>
                <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è (—Ç—Ä–∏–≥–≥–µ—Ä—ã)</li>
            </ul>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ú–∏—Ä–∞</strong></p>
            <p>–í–µ—Ä—Å–∏—è 1.0.0 ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–æ 15.12.2025</p>
            <p style="margin-top: 10px;">
                <a href="https://github.com/ircitdev/MiraBot" target="_blank">GitHub</a> ‚Ä¢
                <a href="/docs/ADMIN_PANEL_FULL_GUIDE.md">Markdown –≤–µ—Ä—Å–∏—è</a>
            </p>
            <p style="margin-top: 15px; font-size: 12px;">
                ü§ñ Generated with <a href="https://claude.com/claude-code" target="_blank">Claude Code</a>
            </p>
        </div>
    </div>

    <script>
        // Telegram WebApp integration
        const tg = window.Telegram?.WebApp;
        if (tg) {
            tg.expand();
            tg.MainButton.setText('–ó–∞–∫—Ä—ã—Ç—å');
            tg.MainButton.onClick(() => tg.close());
            tg.MainButton.show();
        }
    </script>
</body>
</html>
